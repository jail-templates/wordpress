# This .htaccess is generated by jail-templates/wordpress
# Customize for your own use-case accordingly

# disable access to XML-RPC
<Files xmlrpc.php>
    Require all denied
</Files>

# disable access to wp-config.php.
<files wp-config.php>
    Require all denied
</files>

# rewrite rules
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # enable permalinks
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]

    # disable access to include-only files
    RewriteRule ^wp-admin/includes/ - [F,L]
    RewriteRule !^wp-includes/ - [S=3]
    RewriteRule ^wp-includes/[^/]+\.php$ - [F,L]
    RewriteRule ^wp-includes/js/tinymce/langs/.+\.php - [F,L]
    RewriteRule ^wp-includes/theme-compat/ - [F,L]

    # block author scans 
    RewriteCond %{QUERY_STRING} (author=\d+) [NC]
    RewriteRule .* - [F]
</IfModule>

# BEGIN WordPress

# END WordPress
